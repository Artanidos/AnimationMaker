/*
	PACKED:

		<script type="text/javascript" src="js/jshashtable-2.1_src.js"></script>
		<script type="text/javascript" src="js/jquery.numberformatter-1.2.3.js"></script>
		<script type="text/javascript" src="js/tmpl.js"></script>
		<script type="text/javascript" src="js/jquery.dependClass-0.1.js"></script>
		<script type="text/javascript" src="js/draggable-0.1.js"></script>
		<script type="text/javascript" src="js/jquery.slider.js"></script>
*/var Hashtable=(function(){var p="function";var n=(typeof Array.prototype.splice==p)?function(s,r){s.splice(r,1)}:function(u,t){var s,v,r;if(t===u.length-1){u.length=t}else{s=u.slice(t+1);u.length=t;for(v=0,r=s.length;v<r;++v){u[t+v]=s[v]}}};function a(t){var r;if(typeof t=="string"){return t}else{if(typeof t.hashCode==p){r=t.hashCode();return(typeof r=="string")?r:a(r)}else{if(typeof t.toString==p){return t.toString()}else{try{return String(t)}catch(s){return Object.prototype.toString.call(t)}}}}}function g(r,s){return r.equals(s)}function e(r,s){return(typeof s.equals==p)?s.equals(r):(r===s)}function c(r){return function(s){if(s===null){throw new Error("null is not a valid "+r)}else{if(typeof s=="undefined"){throw new Error(r+" must not be undefined")}}}}var q=c("key"),l=c("value");function d(u,s,t,r){this[0]=u;this.entries=[];this.addEntry(s,t);if(r!==null){this.getEqualityFunction=function(){return r}}}var h=0,j=1,f=2;function o(r){return function(t){var s=this.entries.length,v,u=this.getEqualityFunction(t);while(s--){v=this.entries[s];if(u(t,v[0])){switch(r){case h:return true;case j:return v;case f:return[s,v[1]]}}}return false}}function k(r){return function(u){var v=u.length;for(var t=0,s=this.entries.length;t<s;++t){u[v+t]=this.entries[t][r]}}}d.prototype={getEqualityFunction:function(r){return(typeof r.equals==p)?g:e},getEntryForKey:o(j),getEntryAndIndexForKey:o(f),removeEntryForKey:function(s){var r=this.getEntryAndIndexForKey(s);if(r){n(this.entries,r[0]);return r[1]}return null},addEntry:function(r,s){this.entries[this.entries.length]=[r,s]},keys:k(0),values:k(1),getEntries:function(s){var u=s.length;for(var t=0,r=this.entries.length;t<r;++t){s[u+t]=this.entries[t].slice(0)}},containsKey:o(h),containsValue:function(s){var r=this.entries.length;while(r--){if(s===this.entries[r][1]){return true}}return false}};function m(s,t){var r=s.length,u;while(r--){u=s[r];if(t===u[0]){return r}}return null}function i(r,s){var t=r[s];return(t&&(t instanceof d))?t:null}function b(t,r){var w=this;var v=[];var u={};var x=(typeof t==p)?t:a;var s=(typeof r==p)?r:null;this.put=function(B,C){q(B);l(C);var D=x(B),E,A,z=null;E=i(u,D);if(E){A=E.getEntryForKey(B);if(A){z=A[1];A[1]=C}else{E.addEntry(B,C)}}else{E=new d(D,B,C,s);v[v.length]=E;u[D]=E}return z};this.get=function(A){q(A);var B=x(A);var C=i(u,B);if(C){var z=C.getEntryForKey(A);if(z){return z[1]}}return null};this.containsKey=function(A){q(A);var z=x(A);var B=i(u,z);return B?B.containsKey(A):false};this.containsValue=function(A){l(A);var z=v.length;while(z--){if(v[z].containsValue(A)){return true}}return false};this.clear=function(){v.length=0;u={}};this.isEmpty=function(){return !v.length};var y=function(z){return function(){var A=[],B=v.length;while(B--){v[B][z](A)}return A}};this.keys=y("keys");this.values=y("values");this.entries=y("getEntries");this.remove=function(B){q(B);var C=x(B),z,A=null;var D=i(u,C);if(D){A=D.removeEntryForKey(B);if(A!==null){if(!D.entries.length){z=m(v,C);n(v,z);delete u[C]}}}return A};this.size=function(){var A=0,z=v.length;while(z--){A+=v[z].entries.length}return A};this.each=function(C){var z=w.entries(),A=z.length,B;while(A--){B=z[A];C(B[0],B[1])}};this.putAll=function(H,C){var B=H.entries();var E,F,D,z,A=B.length;var G=(typeof C==p);while(A--){E=B[A];F=E[0];D=E[1];if(G&&(z=w.get(F))){D=C(F,z,D)}w.put(F,D)}};this.clone=function(){var z=new b(t,r);z.putAll(w);return z}}return b})();(function(k){var a=new Hashtable();var f=["ae","au","ca","cn","eg","gb","hk","il","in","jp","sk","th","tw","us"];var b=["at","br","de","dk","es","gr","it","nl","pt","tr","vn"];var i=["cz","fi","fr","ru","se","pl"];var d=["ch"];var g=[[".",","],[",","."],[","," "],[".","'"]];var c=[f,b,i,d];function j(n,l,m){this.dec=n;this.group=l;this.neg=m}function h(){for(var l=0;l<c.length;l++){localeGroup=c[l];for(var m=0;m<localeGroup.length;m++){a.put(localeGroup[m],l)}}}function e(l,r){if(a.size()==0){h()}var q=".";var o=",";var p="-";if(r==false){if(l.indexOf("_")!=-1){l=l.split("_")[1].toLowerCase()}else{if(l.indexOf("-")!=-1){l=l.split("-")[1].toLowerCase()}}}var n=a.get(l);if(n){var m=g[n];if(m){q=m[0];o=m[1]}}return new j(q,o,p)}k.fn.formatNumber=function(l,m,n){return this.each(function(){if(m==null){m=true}if(n==null){n=true}var p;if(k(this).is(":input")){p=new String(k(this).val())}else{p=new String(k(this).text())}var o=k.formatNumber(p,l);if(m){if(k(this).is(":input")){k(this).val(o)}else{k(this).text(o)}}if(n){return o}})};k.formatNumber=function(q,w){var w=k.extend({},k.fn.formatNumber.defaults,w);var l=e(w.locale.toLowerCase(),w.isFullLocale);var n=l.dec;var u=l.group;var o=l.neg;var m="0#-,.";var t="";var s=false;for(var r=0;r<w.format.length;r++){if(m.indexOf(w.format.charAt(r))==-1){t=t+w.format.charAt(r)}else{if(r==0&&w.format.charAt(r)=="-"){s=true;continue}else{break}}}var v="";for(var r=w.format.length-1;r>=0;r--){if(m.indexOf(w.format.charAt(r))==-1){v=w.format.charAt(r)+v}else{break}}w.format=w.format.substring(t.length);w.format=w.format.substring(0,w.format.length-v.length);var p=new Number(q);return k._formatNumber(p,w,v,t,s)};k._formatNumber=function(m,q,n,I,t){var q=k.extend({},k.fn.formatNumber.defaults,q);var G=e(q.locale.toLowerCase(),q.isFullLocale);var F=G.dec;var w=G.group;var l=G.neg;var z=false;if(isNaN(m)){if(q.nanForceZero==true){m=0;z=true}else{return null}}if(n=="%"){m=m*100}var B="";if(q.format.indexOf(".")>-1){var H=F;var u=q.format.substring(q.format.lastIndexOf(".")+1);if(q.round==true){m=new Number(m.toFixed(u.length))}else{var M=m.toString();M=M.substring(0,M.lastIndexOf(".")+u.length+1);m=new Number(M)}var A=m%1;var C=new String(A.toFixed(u.length));C=C.substring(C.lastIndexOf(".")+1);for(var J=0;J<u.length;J++){if(u.charAt(J)=="#"&&C.charAt(J)!="0"){H+=C.charAt(J);continue}else{if(u.charAt(J)=="#"&&C.charAt(J)=="0"){var r=C.substring(J);if(r.match("[1-9]")){H+=C.charAt(J);continue}else{break}}else{if(u.charAt(J)=="0"){H+=C.charAt(J)}}}}B+=H}else{m=Math.round(m)}var v=Math.floor(m);if(m<0){v=Math.ceil(m)}var E="";if(q.format.indexOf(".")==-1){E=q.format}else{E=q.format.substring(0,q.format.indexOf("."))}var L="";if(!(v==0&&E.substr(E.length-1)=="#")||z){var x=new String(Math.abs(v));var p=9999;if(E.lastIndexOf(",")!=-1){p=E.length-E.lastIndexOf(",")-1}var o=0;for(var J=x.length-1;J>-1;J--){L=x.charAt(J)+L;o++;if(o==p&&J!=0){L=w+L;o=0}}if(E.length>L.length){var K=E.indexOf("0");if(K!=-1){var D=E.length-K;var s=E.length-L.length-1;while(L.length<D){var y=E.charAt(s);if(y==","){y=w}L=y+L;s--}}}}if(!L&&E.indexOf("0",E.length-1)!==-1){L="0"}B=L+B;if(m<0&&t&&I.length>0){I=l+I}else{if(m<0){B=l+B}}if(!q.decimalSeparatorAlwaysShown){if(B.lastIndexOf(F)==B.length-1){B=B.substring(0,B.length-1)}}B=I+B+n;return B};k.fn.parseNumber=function(l,m,o){if(m==null){m=true}if(o==null){o=true}var p;if(k(this).is(":input")){p=new String(k(this).val())}else{p=new String(k(this).text())}var n=k.parseNumber(p,l);if(n){if(m){if(k(this).is(":input")){k(this).val(n.toString())}else{k(this).text(n.toString())}}if(o){return n}}};k.parseNumber=function(s,x){var x=k.extend({},k.fn.parseNumber.defaults,x);var m=e(x.locale.toLowerCase(),x.isFullLocale);var p=m.dec;var v=m.group;var q=m.neg;var l="1234567890.-";while(s.indexOf(v)>-1){s=s.replace(v,"")}s=s.replace(p,".").replace(q,"-");var w="";var o=false;if(s.charAt(s.length-1)=="%"||x.isPercentage==true){o=true}for(var t=0;t<s.length;t++){if(l.indexOf(s.charAt(t))>-1){w=w+s.charAt(t)}}var r=new Number(w);if(o){r=r/100;var u=w.indexOf(".");if(u!=-1){var n=w.length-u-1;r=r.toFixed(n+2)}else{r=r.toFixed(w.length-1)}}return r};k.fn.parseNumber.defaults={locale:"us",decimalSeparatorAlwaysShown:false,isPercentage:false,isFullLocale:false};k.fn.formatNumber.defaults={format:"#,###.00",locale:"us",decimalSeparatorAlwaysShown:false,nanForceZero:true,round:true,isFullLocale:false};Number.prototype.toFixed=function(l){return k._roundNumber(this,l)};k._roundNumber=function(n,m){var l=Math.pow(10,m||0);var o=String(Math.round(n*l)/l);if(m>0){var p=o.indexOf(".");if(p==-1){o+=".";p=0}else{p=o.length-(p+1)}while(p<m){o+="0";p++}}return o}})(jQuery);(function(){var b={};this.tmpl=function a(e,d){var c=!/\W/.test(e)?b[e]=b[e]||a(document.getElementById(e).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return d?c(d):c}})();(function(a){a.baseClass=function(b){b=a(b);return b.get(0).className.match(/([^ ]+)/)[1]};a.fn.addDependClass=function(d,b){var c={delimiter:b?b:"-"};return this.each(function(){var e=a.baseClass(this);if(e){a(this).addClass(e+c.delimiter+d)}})};a.fn.removeDependClass=function(d,b){var c={delimiter:b?b:"-"};return this.each(function(){var e=a.baseClass(this);if(e){a(this).removeClass(e+c.delimiter+d)}})};a.fn.toggleDependClass=function(d,b){var c={delimiter:b?b:"-"};return this.each(function(){var e=a.baseClass(this);if(e){if(a(this).is("."+e+c.delimiter+d)){a(this).removeClass(e+c.delimiter+d)}else{a(this).addClass(e+c.delimiter+d)}}})}})(jQuery);(function(b){function a(){this._init.apply(this,arguments)}a.prototype.oninit=function(){};a.prototype.events=function(){};a.prototype.onmousedown=function(){this.ptr.css({position:"absolute"})};a.prototype.onmousemove=function(d,c,e){this.ptr.css({left:c,top:e})};a.prototype.onmouseup=function(){};a.prototype.isDefault={drag:false,clicked:false,toclick:true,mouseup:false};a.prototype._init=function(){if(arguments.length>0){this.ptr=b(arguments[0]);this.outer=b(".draggable-outer");this.is={};b.extend(this.is,this.isDefault);var c=this.ptr.offset();this.d={left:c.left,top:c.top,width:this.ptr.width(),height:this.ptr.height()};this.oninit.apply(this,arguments);this._events()}};a.prototype._getPageCoords=function(c){if(c.targetTouches&&c.targetTouches[0]){return{x:c.targetTouches[0].pageX,y:c.targetTouches[0].pageY}}else{return{x:c.pageX,y:c.pageY}}};a.prototype._bindEvent=function(f,d,e){var c=this;if(this.supportTouches_){f.get(0).addEventListener(this.events_[d],e,false)}else{f.bind(this.events_[d],e)}};a.prototype._events=function(){var c=this;this.supportTouches_="ontouchend" in document;this.events_={click:this.supportTouches_?"touchstart":"click",down:this.supportTouches_?"touchstart":"mousedown",move:this.supportTouches_?"touchmove":"mousemove",up:this.supportTouches_?"touchend":"mouseup"};this._bindEvent(b(document),"move",function(d){if(c.is.drag){d.stopPropagation();d.preventDefault();c._mousemove(d)}});this._bindEvent(b(document),"down",function(d){if(c.is.drag){d.stopPropagation();d.preventDefault()}});this._bindEvent(b(document),"up",function(d){c._mouseup(d)});this._bindEvent(this.ptr,"down",function(d){c._mousedown(d);return false});this._bindEvent(this.ptr,"up",function(d){c._mouseup(d)});this.ptr.find("a").click(function(){c.is.clicked=true;if(!c.is.toclick){c.is.toclick=true;return false}}).mousedown(function(d){c._mousedown(d);return false});this.events()};a.prototype._mousedown=function(c){this.is.drag=true;this.is.clicked=false;this.is.mouseup=false;var d=this.ptr.offset();var e=this._getPageCoords(c);this.cx=e.x-d.left;this.cy=e.y-d.top;b.extend(this.d,{left:d.left,top:d.top,width:this.ptr.width(),height:this.ptr.height()});if(this.outer&&this.outer.get(0)){this.outer.css({height:Math.max(this.outer.height(),b(document.body).height()),overflow:"hidden"})}this.onmousedown(c)};a.prototype._mousemove=function(c){this.is.toclick=false;var d=this._getPageCoords(c);this.onmousemove(c,d.x-this.cx,d.y-this.cy)};a.prototype._mouseup=function(c){var d=this;if(this.is.drag){this.is.drag=false;if(this.outer&&this.outer.get(0)){if(b.browser.mozilla){this.outer.css({overflow:"hidden"})}else{this.outer.css({overflow:"visible"})}if(b.browser.msie&&b.browser.version=="6.0"){this.outer.css({height:"100%"})}else{this.outer.css({height:"auto"})}}this.onmouseup(c)}};window.Draggable=a})(jQuery);(function(d){function a(f){if(typeof f=="undefined"){return false}if(f instanceof Array||(!(f instanceof Object)&&(Object.prototype.toString.call((f))=="[object Array]")||typeof f.length=="number"&&typeof f.splice!="undefined"&&typeof f.propertyIsEnumerable!="undefined"&&!f.propertyIsEnumerable("splice"))){return true}return false}d.slider=function(h,g){var f=d(h);if(!f.data("jslider")){f.data("jslider",new c(h,g))}return f.data("jslider")};d.fn.slider=function(j,g){var i,h=arguments;function f(l){return l!==undefined}function k(l){return l!=null}this.each(function(){var m=d.slider(this,j);if(typeof j=="string"){switch(j){case"value":if(f(h[1])&&f(h[2])){var l=m.getPointers();if(k(l[0])&&k(h[1])){l[0].set(h[1]);l[0].setIndexOver()}if(k(l[1])&&k(h[2])){l[1].set(h[2]);l[1].setIndexOver()}}else{if(f(h[1])){var l=m.getPointers();if(k(l[0])&&k(h[1])){l[0].set(h[1]);l[0].setIndexOver()}}else{i=m.getValue()}}break;case"prc":if(f(h[1])&&f(h[2])){var l=m.getPointers();if(k(l[0])&&k(h[1])){l[0]._set(h[1]);l[0].setIndexOver()}if(k(l[1])&&k(h[2])){l[1]._set(h[2]);l[1].setIndexOver()}}else{if(f(h[1])){var l=m.getPointers();if(k(l[0])&&k(h[1])){l[0]._set(h[1]);l[0].setIndexOver()}}else{i=m.getPrcValue()}}break;case"calculatedValue":var o=m.getValue().split(";");i="";for(var n=0;n<o.length;n++){i+=(n>0?";":"")+m.nice(o[n])}break;case"skin":m.setSkin(h[1]);break}}else{if(!j&&!g){if(!a(i)){i=[]}i.push(m)}}});if(a(i)&&i.length==1){i=i[0]}return i||this};var e={settings:{from:1,to:10,step:1,smooth:true,limits:true,round:0,format:{format:"#,##0.##"},value:"5;7",dimension:""},className:"jslider",selector:".jslider-",template:tmpl('<span class="<%=className%>"><table><tr><td><div class="<%=className%>-bg"><i class="l"></i><i class="f"></i><i class="r"></i><i class="v"></i></div><div class="<%=className%>-pointer"></div><div class="<%=className%>-pointer <%=className%>-pointer-to"></div><div class="<%=className%>-label"><span><%=settings.from%></span></div><div class="<%=className%>-label <%=className%>-label-to"><span><%=settings.to%></span><%=settings.dimension%></div><div class="<%=className%>-value"><span></span><%=settings.dimension%></div><div class="<%=className%>-value <%=className%>-value-to"><span></span><%=settings.dimension%></div><div class="<%=className%>-scale"><%=scale%></div></td></tr></table></span>')};function c(){return this.init.apply(this,arguments)}c.prototype.init=function(g,f){this.settings=d.extend(true,{},e.settings,f?f:{});this.inputNode=d(g).hide();this.settings.interval=this.settings.to-this.settings.from;this.settings.value=this.inputNode.attr("value");if(this.settings.calculate&&d.isFunction(this.settings.calculate)){this.nice=this.settings.calculate}if(this.settings.onstatechange&&d.isFunction(this.settings.onstatechange)){this.onstatechange=this.settings.onstatechange}this.is={init:false};this.o={};this.create()};c.prototype.onstatechange=function(){};c.prototype.create=function(){var f=this;this.domNode=d(e.template({className:e.className,settings:{from:this.nice(this.settings.from),to:this.nice(this.settings.to),dimension:this.settings.dimension},scale:this.generateScale()}));this.inputNode.after(this.domNode);this.drawScale();if(this.settings.skin&&this.settings.skin.length>0){this.setSkin(this.settings.skin)}this.sizes={domWidth:this.domNode.width(),domOffset:this.domNode.offset()};d.extend(this.o,{pointers:{},labels:{0:{o:this.domNode.find(e.selector+"value").not(e.selector+"value-to")},1:{o:this.domNode.find(e.selector+"value").filter(e.selector+"value-to")}},limits:{0:this.domNode.find(e.selector+"label").not(e.selector+"label-to"),1:this.domNode.find(e.selector+"label").filter(e.selector+"label-to")}});d.extend(this.o.labels[0],{value:this.o.labels[0].o.find("span")});d.extend(this.o.labels[1],{value:this.o.labels[1].o.find("span")});if(!f.settings.value.split(";")[1]){this.settings.single=true;this.domNode.addDependClass("single")}if(!f.settings.limits){this.domNode.addDependClass("limitless")}this.domNode.find(e.selector+"pointer").each(function(g){var j=f.settings.value.split(";")[g];if(j){f.o.pointers[g]=new b(this,g,f);var h=f.settings.value.split(";")[g-1];if(h&&new Number(j)<new Number(h)){j=h}j=j<f.settings.from?f.settings.from:j;j=j>f.settings.to?f.settings.to:j;f.o.pointers[g].set(j,true)}});this.o.value=this.domNode.find(".v");this.is.init=true;d.each(this.o.pointers,function(g){f.redraw(this)});(function(g){d(window).resize(function(){g.onresize()})})(this)};c.prototype.setSkin=function(f){if(this.skin_){this.domNode.removeDependClass(this.skin_,"_")}this.domNode.addDependClass(this.skin_=f,"_")};c.prototype.setPointersIndex=function(f){d.each(this.getPointers(),function(g){this.index(g)})};c.prototype.getPointers=function(){return this.o.pointers};c.prototype.generateScale=function(){if(this.settings.scale&&this.settings.scale.length>0){var h="";var g=this.settings.scale;var j=Math.round((100/(g.length-1))*10)/10;for(var f=0;f<g.length;f++){h+='<span style="left: '+f*j+'%">'+(g[f]!="|"?"<ins>"+g[f]+"</ins>":"")+"</span>"}return h}else{return""}return""};c.prototype.drawScale=function(){this.domNode.find(e.selector+"scale span ins").each(function(){d(this).css({marginLeft:-d(this).outerWidth()/2})})};c.prototype.onresize=function(){var f=this;this.sizes={domWidth:this.domNode.width(),domOffset:this.domNode.offset()};d.each(this.o.pointers,function(g){f.redraw(this)})};c.prototype.update=function(){this.onresize();this.drawScale()};c.prototype.limits=function(f,i){if(!this.settings.smooth){var h=this.settings.step*100/(this.settings.interval);f=Math.round(f/h)*h}var g=this.o.pointers[1-i.uid];if(g&&i.uid&&f<g.value.prc){f=g.value.prc}if(g&&!i.uid&&f>g.value.prc){f=g.value.prc}if(f<0){f=0}if(f>100){f=100}return Math.round(f*10)/10};c.prototype.redraw=function(f){if(!this.is.init){return false}this.setValue();if(this.o.pointers[0]&&this.o.pointers[1]){this.o.value.css({left:this.o.pointers[0].value.prc+"%",width:(this.o.pointers[1].value.prc-this.o.pointers[0].value.prc)+"%"})}this.o.labels[f.uid].value.html(this.nice(f.value.origin));this.redrawLabels(f)};c.prototype.redrawLabels=function(l){function h(n,o,p){o.margin=-o.label/2;label_left=o.border+o.margin;if(label_left<0){o.margin-=label_left}if(o.border+o.label/2>g.sizes.domWidth){o.margin=0;o.right=true}else{o.right=false}n.o.css({left:p+"%",marginLeft:o.margin,right:"auto"});if(o.right){n.o.css({left:"auto",right:0})}return o}var g=this;var i=this.o.labels[l.uid];var m=l.value.prc;var j={label:i.o.outerWidth(),right:false,border:(m*this.sizes.domWidth)/100};if(!this.settings.single){var f=this.o.pointers[1-l.uid];var k=this.o.labels[f.uid];switch(l.uid){case 0:if(j.border+j.label/2>k.o.offset().left-this.sizes.domOffset.left){k.o.css({visibility:"hidden"});k.value.html(this.nice(f.value.origin));i.o.css({visibility:"visible"});m=(f.value.prc-m)/2+m;if(f.value.prc!=l.value.prc){i.value.html(this.nice(l.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(f.value.origin));j.label=i.o.outerWidth();j.border=(m*this.sizes.domWidth)/100}}else{k.o.css({visibility:"visible"})}break;case 1:if(j.border-j.label/2<k.o.offset().left-this.sizes.domOffset.left+k.o.outerWidth()){k.o.css({visibility:"hidden"});k.value.html(this.nice(f.value.origin));i.o.css({visibility:"visible"});m=(m-f.value.prc)/2+f.value.prc;if(f.value.prc!=l.value.prc){i.value.html(this.nice(f.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(l.value.origin));j.label=i.o.outerWidth();j.border=(m*this.sizes.domWidth)/100}}else{k.o.css({visibility:"visible"})}break}}j=h(i,j,m);if(k){var j={label:k.o.outerWidth(),right:false,border:(f.value.prc*this.sizes.domWidth)/100};j=h(k,j,f.value.prc)}this.redrawLimits()};c.prototype.redrawLimits=function(){if(this.settings.limits){var h=[true,true];for(key in this.o.pointers){if(!this.settings.single||key==0){var l=this.o.pointers[key];var g=this.o.labels[l.uid];var k=g.o.offset().left-this.sizes.domOffset.left;var f=this.o.limits[0];if(k<f.outerWidth()){h[0]=false}var f=this.o.limits[1];if(k+g.o.outerWidth()>this.sizes.domWidth-f.outerWidth()){h[1]=false}}}for(var j=0;j<h.length;j++){if(h[j]){this.o.limits[j].fadeIn("fast")}else{this.o.limits[j].fadeOut("fast")}}}};c.prototype.setValue=function(){var f=this.getValue();this.inputNode.attr("value",f);this.onstatechange.call(this,f)};c.prototype.getValue=function(){if(!this.is.init){return false}var g=this;var f="";d.each(this.o.pointers,function(h){if(this.value.prc!=undefined&&!isNaN(this.value.prc)){f+=(h>0?";":"")+g.prcToValue(this.value.prc)}});return f};c.prototype.getPrcValue=function(){if(!this.is.init){return false}var g=this;var f="";d.each(this.o.pointers,function(h){if(this.value.prc!=undefined&&!isNaN(this.value.prc)){f+=(h>0?";":"")+this.value.prc}});return f};c.prototype.prcToValue=function(n){if(this.settings.heterogeneity&&this.settings.heterogeneity.length>0){var k=this.settings.heterogeneity;var j=0;var m=this.settings.from;for(var g=0;g<=k.length;g++){if(k[g]){var f=k[g].split("/")}else{var f=[100,this.settings.to]}f[0]=new Number(f[0]);f[1]=new Number(f[1]);if(n>=j&&n<=f[0]){var l=m+((n-j)*(f[1]-m))/(f[0]-j)}j=f[0];m=f[1]}}else{var l=this.settings.from+(n*this.settings.interval)/100}return this.round(l)};c.prototype.valueToPrc=function(l,n){if(this.settings.heterogeneity&&this.settings.heterogeneity.length>0){var k=this.settings.heterogeneity;var j=0;var m=this.settings.from;for(var g=0;g<=k.length;g++){if(k[g]){var f=k[g].split("/")}else{var f=[100,this.settings.to]}f[0]=new Number(f[0]);f[1]=new Number(f[1]);if(l>=m&&l<=f[1]){var o=n.limits(j+(l-m)*(f[0]-j)/(f[1]-m))}j=f[0];m=f[1]}}else{var o=n.limits((l-this.settings.from)*100/this.settings.interval)}return o};c.prototype.round=function(f){f=Math.round(f/this.settings.step)*this.settings.step;if(this.settings.round){f=Math.round(f*Math.pow(10,this.settings.round))/Math.pow(10,this.settings.round)}else{f=Math.round(f)}return f};c.prototype.nice=function(f){f=f.toString().replace(/,/gi,".").replace(/ /gi,"");if(d.formatNumber){return d.formatNumber(new Number(f),this.settings.format||{}).replace(/-/gi,"&minus;")}else{return new Number(f)}};function b(){Draggable.apply(this,arguments)}b.prototype=new Draggable();b.prototype.oninit=function(h,g,f){this.uid=g;this.parent=f;this.value={};this.settings=this.parent.settings};b.prototype.onmousedown=function(f){this._parent={offset:this.parent.domNode.offset(),width:this.parent.domNode.width()};this.ptr.addDependClass("hover");this.setIndexOver()};b.prototype.onmousemove=function(g,f){var h=this._getPageCoords(g);this._set(this.calc(h.x))};b.prototype.onmouseup=function(f){if(this.parent.settings.callback&&d.isFunction(this.parent.settings.callback)){this.parent.settings.callback.call(this.parent,this.parent.getValue())}this.ptr.removeDependClass("hover")};b.prototype.setIndexOver=function(){this.parent.setPointersIndex(1);this.index(2)};b.prototype.index=function(f){this.ptr.css({zIndex:f})};b.prototype.limits=function(f){return this.parent.limits(f,this)};b.prototype.calc=function(g){var f=this.limits(((g-this._parent.offset.left)*100)/this._parent.width);return f};b.prototype.set=function(f,g){this.value.origin=this.parent.round(f);this._set(this.parent.valueToPrc(f,this),g)};b.prototype._set=function(g,f){if(!f){this.value.origin=this.parent.prcToValue(g)}this.value.prc=g;this.ptr.css({left:g+"%"});this.parent.redraw(this)}})(jQuery);